<style>
  .custom-urls table {width: 100%; max-width: 1200px;}
  .custom-urls tr.group1 { background-color: #ddd; }
  .custom-urls tr .active { background-color: #fff; }
  .custom-urls tr.group2 { background-color: #fcfcfc; }
  .custom-urls tr.active { font-weight: bold; }

  .custom-urls tr { display:none; }
  .custom-urls tr.header { display:table-row; }
  .custom-urls .show-all tr { display:table-row; }
  .custom-urls .show-active tr.active { display:table-row }
  .custom-urls .show-matching tr.matching { display:table-row }
  .custom-urls .show-html tr.html { display:table-row }

  .custom-urls th { background-color: var(--theme-color-600, #757575); color: #fff;}
  .custom-urls .pattern {width: 30%;}
  .custom-urls .name {width: 20%;}
  .custom-urls .url {width: 30%;}
  .custom-urls .active {width: 32px;}
  .custom-urls table { table-layout:fixed; }
  .custom-urls td, .custom-urls th { padding: 4px; word-wrap: break-word; }
</style>
<script>
function filter(el) {
  document.querySelector('#custom-urls-data table').className = 'show-'+el.inputEl.value;
}

function search() {
  let inputEl = document.querySelector('#search input')
  let rows = Array.from(document.querySelectorAll('#custom-urls-data tr'));
  document.querySelector('#custom-urls-data table').className = 'show-matching';
  rows.forEach(row => {
    let func = row.textContent.match(new RegExp(inputEl.value)) ? 'add' : 'remove';
    row.classList[func]('matching');
  })
}

function activate(pattern, name) {
  fetch(`/developer/api/activate?pattern=${pattern}&name=${name}`)
    .then(resp => {if (!resp.ok) throw('activation error'); return resp.json()})
}
</script>

<div class="custom-urls">
  The following pattern-matcing requests are intercepted and served by .json.
  <p> 
    Show
    <mce-radio-button name="filter" value="active" onclick="filter(this)"></mce-radio-button> 
    Active Only
    <mce-radio-button name="filter" value="html" onclick="filter(this)"></mce-radio-button> HTML Response
    <mce-radio-button name="filter" value="all" checked="checked" onclick="filter(this)"></mce-radio-button> All
    <!--<input name="search" id="search" onkeyup="search(this.value)">-->
    <mce-search id="search" onkeyup="search()" style="float:right"></mce-search>
  </p>
  <div id="custom-urls-data">
    <!-- Dynamic Portion --> 
  </div>
</div>

